"use strict";(self.webpackChunknodebucket=self.webpackChunknodebucket||[]).push([[548],{4548:(S,m,l)=>{l.r(m),l.d(m,{TaskManagementModule:()=>N});var d=l(6814),i=l(95),u=l(9862),g=l(157),e=l(9468);let h=(()=>{var t;class n{}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-task-management"]],decls:1,vars:0,template:function(s,o){1&s&&e._UZ(0,"router-outlet")},dependencies:[g.lC],encapsulation:2}),n})();var T=l(459);let f=(()=>{var t;class n{constructor(s){this.http=s}getTask(s){return this.http.get("/api/employees/"+s+"/tasks")}addTask(s,o){return this.http.post("/api/employees/"+s+"/tasks",{task:o})}}return(t=n).\u0275fac=function(s){return new(s||t)(e.LFG(u.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function k(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",26),e._uU(2),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.hij(" ",a.errorMessage," ")}}function v(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",27),e._uU(2),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.hij(" ",a.successMessage," ")}}function y(t,n){1&t&&(e.TgZ(0,"div")(1,"div",28),e._uU(2,"Please enter a task! "),e._UZ(3,"button",29),e.qZA()())}function Z(t,n){1&t&&(e.TgZ(0,"div")(1,"div",28),e._uU(2,"The task field must be at least 3 characters long! "),e._UZ(3,"button",29),e.qZA()())}function _(t,n){1&t&&(e.TgZ(0,"div")(1,"div",28),e._uU(2,"The task field must be at most 50 characters long! "),e._UZ(3,"button",29),e.qZA()())}function b(t,n){1&t&&(e.TgZ(0,"div")(1,"div",30),e._uU(2," No tasks to do yet! "),e.qZA()())}const p=function(t){return{"background-color":t}};function C(t,n){if(1&t&&e._UZ(0,"button",35),2&t){const a=e.oxw().$implicit;e.s9C("title",a.category.categoryName),e.Q6J("ngStyle",e.VKq(2,p,a.category.backgroundColor))}}function x(t,n){if(1&t&&(e.TgZ(0,"div",19)(1,"div",31)(2,"div",32)(3,"div",33),e.YNc(4,C,1,4,"button",34),e.TgZ(5,"div"),e._uU(6),e.qZA()()()()()),2&t){const a=n.$implicit;e.xp6(4),e.Q6J("ngIf","other"!=a.category.categoryName),e.xp6(2),e.hij(" ",a.text," ")}}function F(t,n){1&t&&(e.TgZ(0,"div")(1,"div",30),e._uU(2," No tasks done yet! "),e.qZA()())}function M(t,n){if(1&t&&e._UZ(0,"button",35),2&t){const a=e.oxw().$implicit;e.s9C("title",a.category.categoryName),e.Q6J("ngStyle",e.VKq(2,p,a.category.backgroundColor))}}function w(t,n){if(1&t&&(e.TgZ(0,"div",19)(1,"div",31)(2,"div",32)(3,"div",33),e.YNc(4,M,1,4,"button",34),e.TgZ(5,"div"),e._uU(6),e.qZA()()()()()),2&t){const a=n.$implicit;e.xp6(4),e.Q6J("ngIf","other"!=a.category.categoryName),e.xp6(2),e.hij(" ",a.text," ")}}const A=[{path:"",component:h,children:[{path:"my-tasks",component:(()=>{var t;class n{constructor(s,o,r){this.cookieService=s,this.taskService=o,this.fb=r,this.newTaskForm=this.fb.group({text:[null,i.kI.compose([i.kI.required,i.kI.minLength(3),i.kI.maxLength(50)])],category:[null]}),this.employee={},this.todo=[],this.done=[],this.errorMessage="",this.successMessage="",this.empId=parseInt(this.cookieService.get("session_user"),10),this.taskService.getTask(this.empId).subscribe({next:c=>{console.log("emp",c),this.employee=c},error:c=>{console.log("error",c),this.errorMessage=c.message},complete:()=>{console.log("complete"),this.todo=this.employee.todo?this.employee.todo:[],this.done=this.employee.done?this.employee.done:[],console.log("todo",this.todo),console.log("done",this.done)}})}addTask(){const s=this.newTaskForm.controls.text.value,o=this.newTaskForm.controls.category.value;if(!o)return this.errorMessage="Please provide a category",void this.hideAlert();let r=this.getTask(s,o);this.taskService.addTask(this.empId,r).subscribe({next:c=>{console.log("Task added with id",c.id),r._id=c.id,this.todo.push(r),this.newTaskForm.reset(),this.successMessage="Task added successfully",this.hideAlert()},error:c=>{this.errorMessage=c.message,this.hideAlert()}})}hideAlert(){setTimeout(()=>{this.errorMessage="",this.successMessage=""},3e3)}getTask(s,o){let r={};switch(o){case"testing":return r={text:s,category:{categoryName:o,backgroundColor:"#4BCE97"}},r;case"meetings":return r={text:s,category:{categoryName:o,backgroundColor:"#F87462"}},r;case"projects":return r={text:s,category:{categoryName:o,backgroundColor:"#9F8FEF"}},r;default:return r={text:s,category:{categoryName:o,backgroundColor:"#FFFFFF"}},r}}}return(t=n).\u0275fac=function(s){return new(s||t)(e.Y36(T.N),e.Y36(f),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tasks"]],decls:49,vars:11,consts:[[1,"container-fluid","pt-2",2,"min-height","600px"],[1,"font-yellow","text-center"],[1,"row","justify-content-center","p4"],[1,"col-sm-10","col-md-8","col-lg-6"],[4,"ngIf"],[1,"row","justify-content-center","pt-4"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","formControlName","text","placeholder","Add a new task","aria-label","Add a new task","aria-describedby","btnAdd",1,"form-control"],["type","submit","id","btnAdd",1,"btn","btn-outline-secondary",3,"disabled"],[1,"form-check","form-check-inline"],["type","radio","formControlName","category","name","category","id","testingRadio","value","testing",1,"form-check-input"],["for","testingRadio",1,"form-check-label"],["type","radio","formControlName","category","name","category","id","meetingsRadio","value","meetings",1,"form-check-input"],["for","meetingsRadio",1,"form-check-label"],["type","radio","formControlName","category","name","category","id","projectsRadio","value","projects",1,"form-check-input"],["for","projectsRadio",1,"form-check-label"],["type","radio","formControlName","category","name","category","id","otherRadio","value","other",1,"form-check-input"],["for","otherRadio",1,"form-check-label"],[1,"mt-2"],[1,"row","gy-3","mt-2","justify-content-center"],[1,"col-sm-5","col-md-4","col-lg-3"],[1,"text-center"],[1,"p-3","border","bg-light"],[1,"container"],["class","mt-2",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger","alert-dismissable","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"alert","alert-info"],[1,"row","border","bg-white"],[1,"col-sm-6"],[1,"card-body"],["data-bs-toggle","tooltip","style","width: 25%","class","btn",3,"ngStyle","title",4,"ngIf"],["data-bs-toggle","tooltip",1,"btn",2,"width","25%",3,"ngStyle","title"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"My Tasks"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,k,3,1,"div",4),e.YNc(6,v,3,1,"div",4),e.qZA()(),e.TgZ(7,"div",5)(8,"div",3)(9,"form",6),e.NdJ("ngSubmit",function(){return o.addTask()}),e.TgZ(10,"div",7),e._UZ(11,"input",8),e.TgZ(12,"button",9),e._uU(13,"Add"),e.qZA()(),e.TgZ(14,"div",10),e._UZ(15,"input",11),e.TgZ(16,"label",12),e._uU(17,"Testing"),e.qZA()(),e.TgZ(18,"div",10),e._UZ(19,"input",13),e.TgZ(20,"label",14),e._uU(21,"Meetings"),e.qZA()(),e.TgZ(22,"div",10),e._UZ(23,"input",15),e.TgZ(24,"label",16),e._uU(25,"Projects"),e.qZA()(),e.TgZ(26,"div",10),e._UZ(27,"input",17),e.TgZ(28,"label",18),e._uU(29,"Other"),e.qZA()(),e.TgZ(30,"div",19),e.YNc(31,y,4,0,"div",4),e.YNc(32,Z,4,0,"div",4),e.YNc(33,_,4,0,"div",4),e.qZA()()()(),e.TgZ(34,"div",20)(35,"div",21)(36,"h4",22),e._uU(37,"ToDo"),e.qZA(),e.TgZ(38,"div",23)(39,"div",24),e.YNc(40,b,3,0,"div",4),e.YNc(41,x,7,2,"div",25),e.qZA()()(),e.TgZ(42,"div",21)(43,"h4",22),e._uU(44,"Done"),e.qZA(),e.TgZ(45,"div",23)(46,"div",24),e.YNc(47,F,3,0,"div",4),e.YNc(48,w,7,2,"div",25),e.qZA()()()()()),2&s&&(e.xp6(5),e.Q6J("ngIf",o.errorMessage),e.xp6(1),e.Q6J("ngIf",o.successMessage),e.xp6(3),e.Q6J("formGroup",o.newTaskForm),e.xp6(3),e.Q6J("disabled",!o.newTaskForm.valid),e.xp6(19),e.Q6J("ngIf",o.newTaskForm.controls.text.touched&&o.newTaskForm.controls.text.hasError("required")),e.xp6(1),e.Q6J("ngIf",o.newTaskForm.controls.text.touched&&o.newTaskForm.controls.text.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",o.newTaskForm.controls.text.touched&&o.newTaskForm.controls.text.hasError("maxlength")),e.xp6(7),e.Q6J("ngIf",!o.todo||0===o.todo.length),e.xp6(1),e.Q6J("ngForOf",o.todo),e.xp6(6),e.Q6J("ngIf",!o.done||0===o.done.length),e.xp6(1),e.Q6J("ngForOf",o.done))},dependencies:[d.sg,d.O5,d.PC,i._Y,i.Fj,i._,i.JJ,i.JL,i.sg,i.u],styles:[".font-yellow[_ngcontent-%COMP%]{color:#ff0}"]}),n})(),title:"Nodebucket: My Tasks"}]}];let U=(()=>{var t;class n{}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(A),g.Bz]}),n})(),N=(()=>{var t;class n{}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,i.u5,u.JF,i.UX,g.Bz,U]}),n})()}}]);